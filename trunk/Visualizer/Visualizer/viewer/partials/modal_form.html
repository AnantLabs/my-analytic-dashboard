	<form class="form-horizontal" ng-submit="save(data)" mvc-validate id="{{currentScreenId}}">
		<div id="innerContent" class="scrollable row-fluid">
           	<div class="span{{sections.sectionsize}} sectiondiv" ng-repeat="sections in metadata.section">
           		<div ng-repeat="field in sections.element">
           			<ng-switch on="field.type">
	           			<div ng-switch-default></div>
	           			<div id="{{field.gridId}}" ng-switch-when="grid" ng-controller='GridCtrl'>
	                  		<ng-include src="template.grid"></ng-include>
	                  	</div>
                  	</ng-switch>
           		</div>
				<div id= "ID_{{subsections.title}}" class="subsectiondiv" ng-repeat="subsections in sections.subsection" mvc-hide-section>
					<i id="i_{{subsections.id}}" mvc-toggle-class="icon-minus icon-plus" toggletarget="i_{{subsections.id}}" class="icon-minus pull-right anchor-pointer" data-toggle="collapse" data-target="#{{subsections.id}}" ng-show="{{subsections.id}}" ></i>
					<div class="titlebox">{{subsections.title}}</div>
					<div autocollapsed="{{subsections.autocollapse}}" id="{{subsections.id}}" class="collapse in">
						<div class="row-fluid">
							<div id="ID_{{field.name}}" class="fieldDiv" ng-repeat="field in subsections.element" >
		    						<ng-switch on="field.type">
		    							<div ng-switch-when="label" class="control-label span{{field.fieldspan}}" id="{{field.name}}">
		    								 <span>{{field.label}}</span>
		    							</div>
							            <div ng-switch-default class="input {{field.type}} control-group span{{field.fieldspan}}">	            
											<ng-switch on="field.type">
									              <span ng-switch-default>
									                	<label class="control-label labelspan" for="{{field.name}}">
									                		<div ng-show="field.label">
											             		<ng-switch on="field.labeltype">
												             		<div ng-switch-when="variable">
												             			<span ng-show="(field.required == 'required') && (actionName!='Inquire')" class="requiredmark">*</span>
												             			<span>{{data[field.label]}}:</span>
												             		</div>
												             		<div ng-switch-default>
												             		<span ng-show="(field.required == 'required') && (actionName!='Inquire')" class="requiredmark">*</span>
																     <span>{{field.label}}:</span>
																    </div>
											             		</ng-switch>
											             		<i rel="popover" html="true" class="icon-info-sign anchor-pointer" ng-show="field.help == 'block'" popover="{{field.helptext}}" popover-placement="right"   />											            		
											            	</div>
										            	</label>
										          </span>
										          <div ng-switch-when="button"></div>
										          <div ng-switch-when="search_button" class="span{{field.fieldspan}}"></div>
										          <div ng-switch-when="submit_button" class="span{{field.fieldspan}}"></div>
										          <div ng-switch-when="spacer"></div>
										          <div ng-switch-when="grid"></div>
												  <div ng-switch-when="literal"></div>
										          <div ng-switch-when="checkbox"></div>
											</ng-switch>
								              <div class="controls controlspan">
								                <ng-switch on="field.type">
								                
								            	    <input ng-switch-default type="{{field.type}}" ng-model=data[field.name] class="span10 {{field.required}}" id="{{field.name}}" value="{{field.name}}" label="{{field.label}}" >
								
								                    <label ng-switch-when="label" class="span{{field.size}}" id="{{field.name}}">
									            		<span>		             		           	
								                   			 
									             		</span> 
									             	</label>
								                    
								                    <label ng-switch-when="literal"  class="control-label labelspan" for="{{field.name}}">
									               	 	<span>{{field.label}}</span><i rel="popover" class="icon-info-sign helpText" style="cursor:pointer;display:{{field.help}}" popover="{{field.helptext}}" popover-title="Help" popover-placement="right" /> 	
										            </label>
								                    <input ng-switch-when="text" type="text" id="{{field.name}}" maxlength="{{field.maxlength}}" ng-model=data[field.name] class="span{{field.size}}"  placeholder="{{field.placeholder}}"  id="{{field.name}}" label="{{field.label}}" mvc-required="{{field.required}}" mvc-auto-format="{{field.autoformat}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" >
												
													<input ng-switch-when="url" type="url" id="{{field.name}}" ng-model=data[field.name] class="span{{field.size}}" placeholder="{{field.placeholder}}" label="{{field.label}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" >
													
													<input ng-switch-when="email" type="email" id="{{field.name}}" ng-model=data[field.name] class="span{{field.size}}" placeholder="{{field.placeholder}}" label="{{field.label}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" >
													
													<input ng-switch-when="phone" type="tel" id="{{field.name}}" ng-model=data[field.name] class="span{{field.size}}" placeholder="{{field.placeholder}}" label="{{field.label}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" >
													
							                    	<input ng-switch-when="mask" type="text"  id="{{field.name}}" maxlength="{{field.maxlength}}" ng-model=data[field.name] class="span{{field.size}}"  placeholder="{{field.placeholder}}"  id="{{field.name}}" label="{{field.label}}" mvc-auto-format="{{field.autoformat}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" >
												
													<input ng-switch-when="number" type="text" mvc-number id="{{field.name}}" decimal="{{field.decimal}}" maxlength="{{field.maxlength}}" ng-model=data[field.name] class="span{{field.size}}" label="{{field.label}}" mvc-auto-format="{{field.autoformat}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" >
							
							                    	<input ng-switch-when="date" type="date" id="{{field.name}}" dateFormat="{{field.mask}}"  mvc-date-picker ng-model=data[field.name] class="span{{field.size}}"  label="{{field.label}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}">
							
													<input ng-switch-when="submit" type="submit" value="{{field.label}}" mvc-number id="{{field.name}}" decimal="{{field.decimal}}" maxlength="{{field.maxlength}}" ng-model=data[field.name] class="span{{field.size}}" label="{{field.label}}" mvc-auto-format="{{field.autoformat}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" >
													
													<div ng-switch-when="money">
								                  		<input type="text" class="span{{field.size}}" ng-model="data[field.name]" id="{{field.name}}" label="{{field.label}}" mvc-disabled="{{field.disabled}}" mvc-currency="$" mvc-required="{{field.required}}">
													</div>
													
													<div ng-switch-when="spacer"  class="span{{field.size}}"></div>
													
													<div ng-switch-when="searchtext" class="input-append">
							                		 	<input  type="text" placeholder="{{field.placeholder}}" id="{{field.name}}" ng-model=data[field.name] class="span{{field.size}}" mvc-auto-format="{{field.autoformat}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" />
							                		 	<input type="button" class="btn-search btn-primary" id="{{field.buttonid}}_BIN">
							                		 	<div id="{{field.buttonid}}" class="imgsearch" title="{{field.title}}"></div>
													</div>
													
													<div ng-switch-when="checkbox">
														<input  type="checkbox" ng-model=data[field.name] value="{{field.value}}" class="span1 checkboxSpan" id="{{field.name}}" label="{{field.instructions}}" id="{{field.name}}"  ng-true-value="Y" ng-false-value="N">
														<label class="control-label">{{field.label}}</label>
							                        </div>
							                        
							                    	<textarea ng-switch-when="textarea" ng-model=data[field.name] class="span{{field.size}}" label="{{field.instructions}}" id="{{field.name}}" mvc-required="{{field.required}}" mvc-regexp="{{field.regexp}}" mvc-disabled="{{field.disabled}}" >{{field.value}}</textarea>
							                        
								                    <select ng-switch-when="select" id="{{field.name}}" ng-model=data[field.name] class="span{{field.size}}" mvc-required="{{field.required}}">
							                        	<option></option>
							                        	<option ng-repeat="option in field.suppdata.rows" value="{{option[field.suppdata.payLoad.valueNode]}}" ng-bind-html="option[field.suppdata.payLoad.descriptionNode]"></option>
							                    	</select>
	
								                    <select ng-switch-when="multiple" id="{{field.name}}" ng-model=data[field.name] multiple class="span{{field.size}}" mvc-required="{{field.required}}">
							                        	<option ng-repeat="option in field.suppdata.rows" value="{{option[field.suppdata.payLoad.valueNode]}}" ng-bind-html="option[field.suppdata.payLoad.descriptionNode]"> </option>
							                    	</select>
							                    
							                    	<fieldset ng-switch-when="radio" class="span{{field.size}}">
							                        	<label ng-repeat="option in field.suppdata.rows" class="span{{option.size}} radio">
							                            	<input type="radio" ng-model=data[field.name]  value="{{option[field.suppdata.payLoad.valueNode]}}" id="{{field.name}}" name="{{field.name}}_{{option[field.suppdata.payLoad.valueNode]}}">{{option[field.suppdata.payLoad.descriptionNode]}}
							                            </label>
							                    	</fieldset>
							                    	
							                    	<fieldset ng-switch-when="checkboxes" class="span{{field.size}}">
							                        	<label ng-repeat="option in field.suppdata.rows">
							                            	<input type="checkbox" ng-model="field.value[tokenize(option[field.suppdata.payLoad.descriptionNode])]" value="{{option[field.suppdata.payLoad.valueNode]}}" id="{{field.name}}" name="{{field.name}}_{{option[field.suppdata.payLoad.valueNode]}}">{{option[field.suppdata.payLoad.descriptionNode]}}
							                        	</label>
							                    	</fieldset>
							                    	
							                    	<input ng-switch-when="button" id="{{field.name}}" type="button" value="{{field.label}}" class="btn-primary" mvc-disabled="{{field.disabled}}">
							                   
							                    	<span ng-switch-when="search_button">
														<input type="button" value="{{field.label}}" class="btn-primary"  ng-click="fetchGridData(field.gridId)" >
														<input id="reset" type="button" class="btn-primary" value="Reset" mvcreset>
													 </span>
							                    	
							                    	<span ng-switch-when="submit_button">
														<input type="button" value="{{field.label}}" class="btn-primary" id="{{field.name}}">
														<input id="reset" type="button" class="btn-primary" value="Reset" mvcreset>
													 </span>
							                    	
							                    	<div id="{{field.gridId}}" ng-switch-when="grid" ng-show="visible" ng-controller='GridCtrl'>
							                  			<ng-include src="template.grid"></ng-include>
							                    	</div>

							                    	<fieldset ng-switch-when="grouptext">
							                    	
												 		<div class="groupdiv span12">
												 		<span ng-repeat="subfield in field.controlgroup" >
												 		<ng-switch on="subfield.type">
												 			<span ng-switch-when="search_button">
																<input type="button" value="{{subfield.labelSearch}}" class="btn-primary"  ng-click="fetchGridData(subfield.gridId)" >
																<input type="button" class="btn-primary" value="Reset" mvcreset>
															 </span>
															 
											 				<input ng-switch-when="text" placeholder="{{subfield.placeholder}}" id="{{subfield.name}}" maxlength="{{subfield.maxlength}}" type="text" name="{{subfield.name}}" ng-model=data[subfield.name] class="span{{subfield.size}}" mvc-auto-format="{{subfield.autoformat}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" mvc-disabled="{{subfield.disabled}}" />
												 		
												 			<input ng-switch-when="mask" placeholder="{{subfield.placeholder}}" id="{{subfield.name}}" maxlength="{{subfield.maxlength}}" type="text" name="{{subfield.name}}" ng-model=data[subfield.name] class="span{{subfield.size}}" mvc-auto-format="{{subfield.autoformat}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" mvc-disabled="{{subfield.disabled}}" />
												 		
												 			<input ng-switch-when="number" placeholder="{{subfield.placeholder}}" id="{{subfield.name}}" maxlength="{{subfield.maxlength}}" type="text" name="{{subfield.name}}" ng-model=data[subfield.name] class="span{{subfield.size}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" />
												 			
												 			<input ng-switch-when="url" placeholder="{{subfield.placeholder}}" id="{{subfield.name}}" maxlength="{{subfield.maxlength}}" type="url" name="{{subfield.name}}" ng-model=data[subfield.name] class="span{{subfield.size}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" />
												 			
												 			<input ng-switch-when="email" placeholder="{{subfield.placeholder}}" id="{{subfield.name}}" maxlength="{{subfield.maxlength}}" type="email" name="{{subfield.name}}" ng-model=data[subfield.name] class="span{{subfield.size}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" />
												 			
												 			<input ng-switch-when="submit" value="{{subfield.label}}" placeholder="{{subfield.placeholder}}" id="{{subfield.name}}" maxlength="{{subfield.maxlength}}" type="submit" name="{{subfield.name}}" ng-model=data[subfield.name] class="span{{subfield.size}}" mvc-auto-format="{{subfield.autoformat}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" mvc-disabled="{{subfield.disabled}}" mvc-presubmit={{subfield.name}}/>
												 			
												 			<input ng-switch-when="phone" placeholder="{{subfield.placeholder}}" id="{{subfield.name}}" maxlength="{{subfield.maxlength}}" type="tel" name="{{subfield.name}}" ng-model=data[subfield.name] class="span{{subfield.size}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" />
												 			<input ng-switch-when="checkbox" type="checkbox" ng-model=data[subfield.name] value="{{subfield.value}}" class="span{{subfield.size}}" label="{{subfield.instructions}}" id="{{subfield.name}}">
												 			<input ng-switch-when="button" type="button" id="{{subfield.name}}" class="btn-primary" value="{{subfield.label}}" mvc-disabled="{{subfield.disabled}}"/>
												 			
												 			<textarea ng-switch-when="textarea" ng-model=data[subfield.name] class="span{{subfield.size}} {{subfield.required}}" label="{{subfield.instructions}}" id="{{subfield.name}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}"></textarea> 
												 			
												 			<select ng-switch-when="select" class="span{{subfield.size}}" id="{{subfield.name}}" ng-model=data[subfield.name] mvc-required="{{subfield.required}}">
							                        			<option></option>
							                        			<option ng-repeat="option in subfield.suppdata.rows" value="{{option[subfield.suppdata.payLoad.valueNode]}}">{{option[subfield.suppdata.payLoad.descriptionNode]}}</option>
							                   				</select>
							                   			
								                   			<div ng-switch-when="searchtext" class="span8 input-append">
									               				<input  type="text" placeholder="{{subfield.placeholder}}" maxlength="{{subfield.maxlength}}" id="{{subfield.name}}" ng-model=data[subfield.name] class="span{{subfield.size}}" mvc-auto-format="{{subfield.autoformat}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" mvc-disabled="{{subfield.disabled}}" />
													 			<input  type="button" class="btn-search btn-primary" id="{{subfield.buttonid}}_BIN">
													 			<div id="{{subfield.buttonid}}" class="imgsearch" title="{{subfield.title}}"></div>
												 			</div>
												 			<input ng-switch-when="date" type="date" dateFormat="{{subfield.mask}}"  mvc-date-picker ng-model=data[subfield.name] class="span{{subfield.size}} {{subfield.required}}" id="{{subfield.name}}" label="{{subfield.label}}" mvc-required="{{subfield.required}}" mvc-regexp="{{subfield.regexp}}" mvc-disabled="{{subfield.disabled}}">
							                   				
							                   				<div ng-switch-when="money" >
								                  				<input type="text" class="span{{subfield.size}}" ng-model=data[subfield.name] id="{{subfield.name}}" label="{{subfield.label}}" mvc-disabled="{{subfield.disabled}}"mvc-currency="$" mvc-required="{{subfield.required}}" >
															</div>
															<label ng-switch-when="label" class="span{{subfield.size}}" id="{{subfield.name}}">
											            		<span>		             		           	
										                   			 {{subfield.label}}
											             		</span> 
											             	</label>
											             	<label ng-switch-when="literal"  class="control-label labelspan" for="{{subfield.name}}">
											               	 	<span>{{subfield.label}}</span> 	
												            </label>
												 		</ng-switch>
												 		</span>	
													</div>
												</fieldset>
							                </ng-switch>
										</div>
						            </div>
							       	<div ng-switch-when="hidden">
							       		<!-- <input id={{field.name}} value={{data[field.name]}} type="hidden"/> -->
							       	</div>
								</ng-switch>
		    				</div>
		    			</div>
					</div>
				</div>
			</div>			
		</div>
	</form>